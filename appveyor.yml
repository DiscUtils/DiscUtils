image: Visual Studio 2017
build_script:
- dotnet restore
- msbuild /t:Build /p:Configuration=Release /Verbosity:Minimal
- dotnet pack -c Release
test_script:
- dotnet test Tests\LibraryTests\LibraryTests.csproj -c Release --no-build --logger:trx -- RunConfiguration.TargetPlatform="x64" RunConfiguration.DisableParallelization="true"
artifacts:
- path: '**\*.nupkg'
deploy:
- provider: NuGet
  api_key:
    secure: 1zdVvAQJbpFDsKJS/TXQLc6GI6SlZueTSCcL7xbK6QMisvL8V5nhLFgrceLfp1Ak
  on:
    branch: nuget
